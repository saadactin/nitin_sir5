<aside class="w-64 bg-white dark:bg-background-dark flex flex-col border-r border-gray-200 dark:border-border-dark h-screen fixed">
  <!-- Header -->
  <div class="flex items-center justify-center p-6 border-b border-gray-200 dark:border-border-dark">
    <img src="{{ url_for('static', filename='actin-logo.png') }}" alt="Logo" class="h-12 w-auto object-contain">
  </div>

  <!-- Navigation -->
  <nav class="flex-1 px-3 py-4 space-y-1 overflow-y-auto text-gray-700 dark:text-gray-300">
    {% if session.get("role") in ["admin", "operator", "viewer"] %}
    <a href="{{ url_for('index') }}"
       class="flex items-center gap-3 px-4 py-2 rounded-lg transition 
              {% if request.endpoint == 'index' %}bg-blue-600 text-white shadow-sm{% else %}hover:bg-blue-50 dark:hover:bg-gray-800{% endif %}">
      <span class="material-icons">home</span>
      <span>Home</span>
    </a>
    {% endif %}

    {% if session.get("role") in ["admin", "operator"] %}
    <a href="{{ url_for('schedule_page') }}"
       class="flex items-center gap-3 px-4 py-2 rounded-lg transition 
              {% if request.endpoint == 'schedule_page' %}bg-blue-600 text-white shadow-sm{% else %}hover:bg-blue-50 dark:hover:bg-gray-800{% endif %}">
      <span class="material-icons">schedule</span>
      <span>Schedule</span>
    </a>
    {% endif %}

    {% if session.get("role") in ["admin", "operator", "viewer"] %}
    <a href="{{ url_for('dashboard') }}"
       class="flex items-center gap-3 px-4 py-2 rounded-lg transition 
              {% if request.endpoint == 'dashboard' %}bg-blue-600 text-white shadow-sm{% else %}hover:bg-blue-50 dark:hover:bg-gray-800{% endif %}">
      <span class="material-icons">dashboard</span>
      <span>Dashboard</span>
    </a>
    <a href="{{ url_for('view_schedules') }}"
       class="flex items-center gap-3 px-4 py-2 rounded-lg transition 
              {% if request.endpoint == 'view_schedules' %}bg-blue-600 text-white shadow-sm{% else %}hover:bg-blue-50 dark:hover:bg-gray-800{% endif %}">
      <span class="material-icons">visibility</span>
      <span>View Schedules</span>
    </a>
    <a href="{{ url_for('sync_summary') }}"
       class="flex items-center gap-3 px-4 py-2 rounded-lg transition 
              {% if request.endpoint == 'sync_summary' %}bg-blue-600 text-white shadow-sm{% else %}hover:bg-blue-50 dark:hover:bg-gray-800{% endif %}">
      <span class="material-icons">summarize</span>
      <span>Sync Summary</span>
    </a>
    <a href="{{ url_for('alerts') }}"
       class="flex items-center gap-3 px-4 py-2 rounded-lg transition 
              {% if request.endpoint == 'alerts' %}bg-blue-600 text-white shadow-sm{% else %}hover:bg-blue-50 dark:hover:bg-gray-800{% endif %}">
      <span class="material-icons">notifications</span>
      <span>Alerts</span>
    </a>
    {% endif %}

    {% if session.get("role") == "admin" %}
    <a href="{{ url_for('create_user_route') }}"
       class="flex items-center gap-3 px-4 py-2 rounded-lg transition 
              {% if request.endpoint == 'create_user_route' %}bg-blue-600 text-white shadow-sm{% else %}hover:bg-blue-50 dark:hover:bg-gray-800{% endif %}">
      <span class="material-icons">person_add</span>
      <span>Create User</span>
    </a>
    {% endif %}
  </nav>

  <!-- Footer -->
  <div class="px-4 py-4 border-t border-gray-200 dark:border-border-dark text-sm">
    {% if session.get("user") %}
    <div class="flex items-center gap-2 text-gray-600 dark:text-gray-400 mb-2">
      <span class="material-icons">person</span>
      <span>Logged in as <b>{{ session["user"] }}</b> ({{ session["role"] }})</span>
    </div>
    <a href="{{ url_for('logout') }}" 
       class="flex items-center gap-2 text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 transition">
      <span class="material-icons">logout</span> Logout
    </a>
    {% else %}
    <a href="{{ url_for('login') }}" 
       class="flex items-center gap-2 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition">
      <span class="material-icons">login</span> Login
    </a>
    {% endif %}
  </div>
</aside>
